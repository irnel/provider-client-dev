<!-- Edit Provider -->
<mdb-card id="header" class="w-responsive mt-3 center ml-auto mr-auto">
  <!-- Card Header -->
  <mdb-card-header class="text-center">
    <h3 class="mt-1">
      <span class="badge badge-primary waves-light ml-2">
        <strong> {{title}} </strong>
      </span>
    </h3>

    <h6 class="pt-1">
      <i (click)="redirectToHome()" class="fa fa-home prefix mr-2" aria-hidden="true"></i>
      <a routerLink="/provider-dashboard/workspace/home">Home</a>
      <span> / </span>
      <a routerLink="/provider-dashboard/workspace/providers">Providers</a>
      <span> / </span>
      <span class="text-capitalize">{{mode}}</span>
    </h6>

  </mdb-card-header>

  <!--Card content-->
  <mdb-card-body class="px-lg-5">

    <form [formGroup]="editForm">
      <!-- Name -->
      <div class="md-form form-sm mt-2">
        <input mdbInputDirective type="text" class="form-control"
            id="formName" formControlName="name"
            [errorMessage]="nameError"
            [validateSuccess]="false">

        <label for="formName">Name</label>
      </div>

      <!-- Google maps (Location) -->
      <div class="md-form form-sm mt-6">

        <div class="md-form form-sm">
          <input #search mdbInputDirective type="text" class="form-control"
              id="formAddress" formControlName="address"
              [errorMessage]="addressError"
              [validateSuccess]="false"
              placeholder="Introduce your address">

        </div>

        <agm-map #map
            [zoom]="zoom"
            [latitude]="address.lat"
            [longitude]="address.lng"
            [scrollwheel]="false">

          <agm-marker [latitude]="address.lat" [longitude]="address.lng"></agm-marker>

          <agm-info-window #infoWindow>
            <div>
              {{address.lat}}
              {{address.lng}}
            </div>
          </agm-info-window>

        </agm-map>
      </div>

      <!-- Description -->
      <div class="md-form form-sm mt-5">
        <textarea class="md-textarea md-textarea-auto form-control"
            id="formDescription" formControlName="description"
            type="text" [validateSuccess]="false"
            data-error="character not allowed" mdbInputDirective></textarea>

        <label for="formDescription">Description</label>
      </div>

      <!-- File input component -->
      <app-file-input (filesInfo)="onSelectedFiles($event)"></app-file-input>

      <!-- Upload progress -->
      <div *ngIf="progress.percentage > 0" class="text-center mb-1">
        <small>Uploading images: {{progress.percentage}}%</small>
      </div>
      <div *ngIf="progress.percentage > 0"  class="progress">
        <div class="progress-bar"
            role="progressbar"
            [style.width]="(progress.percentage + '%')"
            aria-valuenow="{{progress.percentage}}"
            aria-valuemin="0"
            aria-valuemax="100">

        </div>
      </div>

      <hr>

      <div class="float-right">
        <button mdbBtn
            [disabled]="loading"
            color="primary"
            class="relative waves-light right" mdbWavesEffect
            (click)="editProvider()">


          <!-- Create Mode -->
          <div *ngIf="!edit" >
            <i class="fa fa-plus left mr-2" aria-hidden="true"></i>Create
          </div>

          <!-- Edit Mode -->
          <div *ngIf="edit">
            <i class="fa fa-floppy-o left mr-2" aria-hidden="true"></i>Save
          </div>
        </button>

        <!-- Button Cancel -->
        <button mdbBtn
            outline="true" color="primary"
            aria-label="Close" mdbWavesEffect
            (click)="cancel()">

          <i class="fa fa-ban left mr-2" aria-hidden="true"></i>Cancel
        </button>
      </div>

    </form>

  </mdb-card-body>

</mdb-card>
